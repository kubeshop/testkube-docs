# Testkube AI Configuration Quick Start

## Cloud Control Plane Users

For users of the Testkube Cloud Control Plane, AI features are enabled as follows:

- AI Agents are always enabled for all environments in your organization.
- AI Assistant is disabled by default, enabled by one of the following methods (Admin or Owner only):
  1. When you first access the AI Assistant, an initial prompt is displayed with action buttons that allow you to either enable the feature or keep it disabled.
  2. Navigate to **Organization Settings** → **Product Features** tab and toggle **AI Assistant** on.

:::info
The LLM used by AI functionality in Testkube Cloud is OpenAI's [GPT-5.2](https://openai.com/index/introducing-gpt-5-2/).

For Cloud installations, the LLM and model cannot be changed — everything is managed by Testkube.
:::

## On-Prem Users

For On-Prem installations, you need to configure the AI service manually as described below - AND enable the AI Assistant 
in the Dashboard as described above.

### AI Service Helm Configuration

**Prerequisites:**
- OpenAI API key (or compatible LLM API)
- PostgreSQL database (for conversation persistence) - this can live alongside MongoDB as your main Testkube database.

```yaml
testkube-ai-service:
  enabled: true
  db:
    secretRef:
      name: my-postgres-credentials     # Secret with DB credentials
      endpointKey: host                 # Key containing DB host
      usernameKey: username             # Key containing DB username  
      passwordKey: password             # Key containing DB password
    # Database name (defaults to 'ai' if empty)
    name: "testkube_ai"
  llmApi:
    secretRef: my-openai-secret
    secretRefKey: OPENAI_API_KEY

testkube-cloud-ui:
  ai:
    enabled: true
```

---

### Optional: Custom LLM Endpoint

For Azure OpenAI, self-hosted models, or other OpenAI-compatible APIs:

```yaml
testkube-ai-service:
  llmApi:
    url: "https://my-company.openai.azure.com/openai/deployments/gpt-4o"
    modelName: "gpt-4o"
    secretRef: my-azure-openai-secret
    secretRefKey: AZURE_OPENAI_KEY
```

---

### Default Values Reference

| Setting | Default | Required for AI |
|---------|---------|-----------------|
| `testkube-ai-service.enabled` | `false` | ✅ Must be `true` |
| `testkube-cloud-ui.ai.enabled` | `false` | ✅ Must be `true` |
| `testkube-ai-service.db.*` | empty | ✅ PostgreSQL required |
| `testkube-ai-service.llmApi.secretRef` | empty | ✅ OpenAI key required |
| `postgresql.enabled` | `false` | Only if using bundled DB |

## Next Steps

Read more about:

- [AI Agents](./ai-agents)
- [AI Assistant Overview](./ai-assistant-overview)
- [AI Assistant Security & Compliance](./ai-assistant-security)
- [AI Configuration Reference](./ai-configuration)