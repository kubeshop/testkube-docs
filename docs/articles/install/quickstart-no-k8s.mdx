import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Testkube Agent with Docker

The Testkube Agent uses Kubernetes as its runtime environment, which requires you to have access to a Kubernetes cluster either
running locally on your machine or remotely in some cloud provider like AWS, Google, Azure, etc.

If you don't have access to a Kubernetes cluster for installing the Testkube Agent you can either install a lightweight
Kubernetes distribution under Docker, or use the Kubernetes version included with Docker Desktop.

Let's look at both of these options below.

:::info
The Testkube Team is actively working on providing a packaged Docker Testkube Agent - check back soon!
:::

## Installing a lightweight Kubernetes distribution under Docker

There are a number of lightweight Kubernetes distributions that you can install under Docker, all of them require
Docker Desktop to be installed, so make sure that is up and running before moving on (download from https://www.docker.com/products/docker-desktop/).

Recommended Kubernetes distributions for local Testkube evaluation are:

- kind - https://kind.sigs.k8s.io/
- minikube - https://minikube.sigs.k8s.io/
- k3s - https://k3s.io/

:::tip
A detailed tutorial on how to run Testkube with Kind is available at [Testing in KinD: Using Testkube with Kubernetes in Docker](https://testkube.io/learn/testing-in-kind-using-testkube-with-kubernetes-in-docker)
:::

### Installing Kind under MacOS or Windows

kind is a tool for running local Kubernetes clusters using Docker container “nodes”. Read all about how to quickly get
started with kind at https://kind.sigs.k8s.io/docs/user/quick-start/.

Installation of kind is straight-forward, instructions for MacOS and Windows are shown below.

  <Tabs groupId="dashboard-cli">
    <TabItem value="macos" label="Install Kind on MacOS" default>


      First install kind using [brew](https://brew.sh/):

      ```
      brew install kind
      ```

      Then create a default cluster where you will install the Testkube Agent:

      ```
      kind create cluster
      ```

    </TabItem>

    <TabItem value="windows" label="Install Kind on Windows">

      Make sure you have [Chocolatey](https://chocolatey.org/) installed, then run

      ```
      choco install kind
      ```

      Then create a default cluster where you will install the Testkube Agent:

      ```
      kind create cluster
      ```

    </TabItem>
  </Tabs>


That's it! Now you can go to the [Testkube Quickstart][install-with-cli] and pick up from there!

[install-with-cli]: /articles/install/install-with-cli

## Using the Kubernetes distribution included with Docker Desktop

Docker Desktop comes with a built-in version of Kubernetes - [Read More](https://docs.docker.com/desktop/kubernetes/).
If you enable this feature you will have a local Kubernetes cluster available and should be all set -
go to the [Testkube Quickstart][install-with-cli] and pick up from there!


